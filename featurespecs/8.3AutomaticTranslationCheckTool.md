# Automatic Translation Checking

## Preliminaries

### Livecycle of properties

The following meta-properties might be present for a property {propertyName}:

- ai_original_{propertyName}: Stores the text in its original state before any AI-generated translation is applied.
- ai_translated_{propertyName}: Holds the AI-generated translation for the corresponding property.
- ai_new_original_{propertyName} is the value after the last rollout
- ai_new_translated_{propertyName} is the translation of ai_new_original_{propertyName}

### Current state diagram

```mermaid
stateDiagram-v2
    [*] --> AutoTranslated
    AutoTranslated: Automatically Translated\n\nai_original_P\nai_translated_P
    InheritanceBroken: Inheritance Broken\n\nai_new_original_P\nai_new_translated_P
    InheritanceBrokenWithPendingChanges: Inheritance Broken\nwith Pending Changes\n\n\n\nai_new_original_P\nai_new_translated_P\nai_new_original_P\nai_new_translated_P
    AutoTranslated --> InheritanceBroken: cancel\ninheritance
    AutoTranslated --> AutoTranslated: rollout
    InheritanceBroken --> AutoTranslated: restore\ninheritance
    InheritanceBroken --> InheritanceBrokenWithPendingChanges: rollout\nchanged\nsource
    InheritanceBrokenWithPendingChanges --> AutoTranslated: cancel\ninheritance
    InheritanceBrokenWithPendingChanges --> InheritanceBroken: merge\nchanges
```

<hr>

### State diagram with check tool

```mermaid
stateDiagram-v2
    [*] --> AutoTranslatedUnchecked
    AutoTranslatedUnchecked: Automatically Translated\nUnchecked\n\nai_original_P\nai_translated_P\nai_unchecked_P
    AutoTranslated: Automatically Translated\n\nai_original_P\nai_translated_P
    InheritanceBroken: Inheritance Broken\n\nai_new_original_P\nai_new_translated_P
    InheritanceBrokenWithPendingChanges: Inheritance Broken\nwith Pending Changes\n\nai_original_P\nai_translated_P\nai_new_original_P\nai_new_translated_P
    AutoTranslatedUnchecked --> AutoTranslated: check\ntranslation
    AutoTranslatedUnchecked --> InheritanceBroken: cancel\ninheritance
    AutoTranslatedUnchecked --> AutoTranslatedUnchecked: rollout
    AutoTranslated --> InheritanceBroken: cancel\ninheritance
    AutoTranslated --> AutoTranslatedUnchecked: rollout
    InheritanceBroken --> AutoTranslated: restore\ninheritance
    InheritanceBroken --> InheritanceBrokenWithPendingChanges: rollout\nchanged\nsource
    InheritanceBroken --> InheritanceBroken: rollout\nunchanged\nsource
    InheritanceBrokenWithPendingChanges --> AutoTranslated: restore\ninheritance
    InheritanceBrokenWithPendingChanges --> InheritanceBroken: merge\nchanges
    InheritanceBrokenWithPendingChanges --> InheritanceBrokenWithPendingChanges: rollout
```

```mermaid
stateDiagram-v2
    [*] --> AutoTranslatedUnchecked
    AutoTranslatedUnchecked --> AutoTranslated: approve\ntranslation
    AutoTranslatedUnchecked --> InheritanceBroken: save\ntranslation
    AutoTranslatedUnchecked --> InheritanceBroken: cancel\ninheritance
    AutoTranslatedUnchecked --> AutoTranslatedUnchecked: rollout
    AutoTranslated --> InheritanceBroken: cancel\ninheritance
    AutoTranslated --> InheritanceBroken: change+finish\ntranslation
    AutoTranslated --> AutoTranslatedUnchecked: rollout\nchanged\nsource
    AutoTranslated --> AutoTranslated: rollout\nunchanged\nsource
    InheritanceBroken --> AutoTranslated: restore\ninheritance
    InheritanceBroken --> InheritanceBrokenWithPendingChanges: rollout\nchanged\nsource
    InheritanceBroken --> InheritanceBroken: rollout\nunchanged\nsource
    InheritanceBrokenWithPendingChanges --> AutoTranslated: restore\ninheritance
    InheritanceBrokenWithPendingChanges --> InheritanceBroken: merge\nchanges
    InheritanceBrokenWithPendingChanges --> InheritanceBrokenWithPendingChanges: rollout
```
<hr>

AutoTranslateUnchecked:
- property = auto translated value
- ai_original_{propertyName} : source
- ai_translated_{propertyName} : auto translated value, as displayed
- ai_unchecked_{propertyName} : true, marker for checking


Changes:
- rollout splitten
- Anzeige welche Stati
- Diffs kl√§ren
- ai_approved: eigentlich 2 Sprachen
- 

